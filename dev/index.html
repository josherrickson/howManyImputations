<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="When performing multiple imputations, while 5-10 imputations are
             sufficient for obtaining point estimates, a larger number of
             imputations are needed for proper standard error estimates.
             This package allows you to calculate how many imputations are
             needed, following the work of von Hippel (2020)
             &lt;doi:10.1177/0049124117747303&gt;.">
<title>Calculate How many Imputations are Needed for Multiple Imputation • howManyImputations</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="apple-touch-icon-60x60.png">
<script src="deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="pkgdown.js"></script><meta property="og:title" content="Calculate How many Imputations are Needed for Multiple Imputation">
<meta property="og:description" content="When performing multiple imputations, while 5-10 imputations are
             sufficient for obtaining point estimates, a larger number of
             imputations are needed for proper standard error estimates.
             This package allows you to calculate how many imputations are
             needed, following the work of von Hippel (2020)
             &lt;doi:10.1177/0049124117747303&gt;.">
<meta property="og:image" content="http://errickson.net/howManyImputations/logo.png">
<meta name="robots" content="noindex">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="index.html">howManyImputations</a>

    <small class="nav-text text-danger me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="In-development version">0.2.6.9001</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item">
  <a class="nav-link" href="reference/index.html">Reference</a>
</li>
<li class="nav-item">
  <a class="nav-link" href="news/index.html">Changelog</a>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav">
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/josherrickson/howManyImputations/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>

    
  </div>
</nav><div class="container template-home">
<div class="row">
  <main id="main" class="col-md-9"><div class="section level1">
<div class="page-header">
<img src="logo.png" class="logo" alt=""><h1 id="howmanyimputations-">
<strong>howManyImputations</strong> 
<a class="anchor" aria-label="anchor" href="#howmanyimputations-"></a>
</h1>
</div>
<p>Package website: <a href="https://errickson.net/howManyImputations/" class="external-link">release</a> | <a href="https://errickson.net/howManyImputations/dev/" class="external-link">development</a></p>
<!-- badges: start -->

<p><strong>howManyImputations</strong> implements “how_many_imputations” from von Hippel (2020). See <a href="https://missingdata.org/" class="external-link">https://missingdata.org/</a>. When carrying out multiple imputation, the old advice of 5-10 imputations is sufficient for a point estimate (e.g. an estimated coefficient), but not for estimates of standard errors (and consequently, hypothesis tests or confidence intervals).</p>
<p>von Hippel (2020) provides a way to calculate the number of imputations needed to have consistent estimates of the standard error. To do so requires an estimate of the Fraction of Missing Information (FMI) which can only be obtained after running some number of imputations. Therefore, the following procedure is recommended:</p>
<ol style="list-style-type: decimal">
<li>Carry out a limited number of imputations to enable estimation of the FMI. von Hippel (2020) recommends 20 imputations.</li>
<li>Use the function <code><a href="reference/how_many_imputations.html">how_many_imputations()</a></code> to calculate how many total imputations you will need.</li>
<li>If the number of total imputations you will need is larger than your initial batch of 20, run additional imputations.</li>
</ol>
<div class="section level2">
<h2 id="usage">Usage<a class="anchor" aria-label="anchor" href="#usage"></a>
</h2>
<p>The only function in <strong>howManyImputations</strong> is <code><a href="reference/how_many_imputations.html">how_many_imputations()</a></code>. This takes in the results of a model fit on multiply imputed data (primarily from <a href="https://cran.r-project.org/package=mice" class="external-link"><strong>mice</strong></a> but see below for working with other MI packages) and estimates how many total imputations are needed.</p>
<pre><code><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/amices/mice" class="external-link">mice</a></span><span class="op">)</span></span>
<span><span class="va">imputed_data</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://amices.org/mice/reference/mice.html" class="external-link">mice</a></span><span class="op">(</span><span class="va">data_with_missing</span>, <span class="va">...</span><span class="op">)</span></span>
<span><span class="va">mi_model_fit</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/with.html" class="external-link">with</a></span><span class="op">(</span><span class="va">imputed_data</span>, <span class="fu"><a href="https://rdrr.io/r/stats/lm.html" class="external-link">lm</a></span><span class="op">(</span><span class="va">y</span> <span class="op">~</span> <span class="va">x</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="fu"><a href="reference/how_many_imputations.html">how_many_imputations</a></span><span class="op">(</span><span class="va">mi_model_fit</span><span class="op">)</span></span>
<span><span class="fu"><a href="reference/how_many_imputations.html">how_many_imputations</a></span><span class="op">(</span><span class="va">mi_model_fit</span>, cv <span class="op">=</span> <span class="fl">.1</span>, alpha <span class="op">=</span> <span class="fl">.01</span><span class="op">)</span></span></code></pre>
<p>The optional <code>cv</code> and <code>alpha</code> arguments can be used to tweaked to control how conservative or anti-conversative the estimate is. See documentation for further details.</p>
<p>Here’s a worked example:</p>
<pre><code>&gt; library(howManyImputations)
&gt; data(airquality)
&gt; # Add some missingness
&gt; airquality[4:10, 3] &lt;- rep(NA, 7)
&gt; airquality[1:5, 4] &lt;- NA
&gt; airquality &lt;- airquality[-c(5, 6)]
&gt; impdata1 &lt;- mice(airquality, m = 5, maxit = 10, method = 'pmm', seed = 500)
&gt; modelFit1 &lt;- with(impdata1, lm(Temp ~ Ozone + Solar.R + Wind))
&gt; how_many_imputations(modelFit1)
[1] 72
&gt; how_many_imputations(modelFit1, cv = .01)
[1] 1767</code></pre>
<p>If you’re using a different package to carry out the imputation, and said package produces a <code>list</code> of models as the output of its modeling step, <code><a href="reference/how_many_imputations.html">how_many_imputations()</a></code> tries to convert the object to a <code>mira</code> object via <code><a href="https://amices.org/mice/reference/as.mira.html" class="external-link">mice::as.mira()</a></code> . Here’s the above example reworked using the <a href="https://cran.r-project.org/package=jomo" class="external-link"><strong>jomo</strong></a> package for the imputation (using <a href="https://cran.r-project.org/package=mitools" class="external-link"><strong>mitools</strong></a> to convert the output of <code><a href="https://rdrr.io/pkg/jomo/man/jomo1.html" class="external-link">jomo::jomo1()</a></code> into a list via <code><a href="https://rdrr.io/pkg/mitools/man/imputationList.html" class="external-link">mitools::imputationList()</a></code>).</p>
<pre><code>&gt; library(jomo)
&gt; library(mitools) # for the `imputationList` function
&gt; jomodata &lt;- jomo1(airquality, nburn = 100, nbetween = 100, nimp = 5)
&gt; impdata2 &lt;- imputationList(split(jomodata, jomodata$Imputation))
&gt; modelFit2 &lt;- with(impdata2, lm(Temp ~ Ozone + Solar.R + Wind))
&gt; how_many_imputations(modelFit2)
[1] 77</code></pre>
<p>Here’s another example using <a href="https://CRAN.R-project.org/package=Amelia" class="external-link"><strong>Amelia</strong></a>, again converting the imputed data into something <strong>mice</strong> can understand.</p>
<pre><code>&gt; library(Amelia)
&gt; data(freetrade)
&gt; a.out &lt;- amelia(freetrade, m = 20, ts = "year", cs = "country")
&gt; modelFit3 &lt;- with(imputationList(a.out$imputations),
                    lm(tariff ~ polity + pop + gdp.pc + year + country))
&gt; how_many_imputations(modelFit3)
[1] 128</code></pre>
</div>
<div class="section level2">
<h2 id="reference">Reference<a class="anchor" aria-label="anchor" href="#reference"></a>
</h2>
<p>Von Hippel, Paul T. “How many imputations do you need? A two-stage calculation using a quadratic rule.” Sociological Methods &amp; Research. 2020;49(3):699-718. <a href="https://doi.org/10.1177/0049124117747303" class="external-link">doi:10.1177/0049124117747303</a></p>
</div>
</div>
  </main><aside class="col-md-3"><div class="links">
<h2 data-toc-skip>Links</h2>
<ul class="list-unstyled">
<li><a href="https://cloud.r-project.org/package=howManyImputations" class="external-link">View on CRAN</a></li>
<li><a href="https://github.com/josherrickson/howManyImputations/" class="external-link">Browse source code</a></li>
<li><a href="https://github.com/josherrickson/howManyImputations/issues/" class="external-link">Report a bug</a></li>
</ul>
</div>

<div class="license">
<h2 data-toc-skip>License</h2>
<ul class="list-unstyled">
<li><a href="LICENSE.html">Full license</a></li>
<li><small><a href="https://opensource.org/licenses/mit-license.php" class="external-link">MIT</a> + file <a href="LICENSE-text.html">LICENSE</a></small></li>
</ul>
</div>


<div class="citation">
<h2 data-toc-skip>Citation</h2>
<ul class="list-unstyled">
<li><a href="authors.html#citation">Citing howManyImputations</a></li>
</ul>
</div>

<div class="developers">
<h2 data-toc-skip>Developers</h2>
<ul class="list-unstyled">
<li>Josh Errickson <br><small class="roles"> Author, maintainer </small>  </li>
</ul>
</div>

<div class="dev-status">
<h2 data-toc-skip>Dev status</h2>
<ul class="list-unstyled">
<li><a href="https://cran.r-project.org/package=howManyImputations" class="external-link"><img src="https://www.r-pkg.org/badges/version/howManyImputations" alt="CRAN_Status_Badge"></a></li>
<li><a href="https://github.com/josherrickson/howManyImputations/actions/" class="external-link"><img src="https://github.com/josherrickson/howManyImputations/workflows/R-build-check/badge.svg" alt="R-build-check"></a></li>
</ul>
</div>

  </aside>
</div>


    <footer><div class="pkgdown-footer-left">
  <p></p>
<p>Developed by Josh Errickson.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
